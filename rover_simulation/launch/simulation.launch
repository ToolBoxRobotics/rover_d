<launch>
  <arg name="gui" default="true"/>
  <param name="robot_description" command="$(find rover_description)/urdf/rover.urdf.xacro"/>
  <param name="robot_namespace" value="rover"/>
  <param name="use_sim_time" value="true"/>

  <!-- Start Gazebo -->
  <node name="gazebo" pkg="gazebo_ros" type="gazebo" args="$(arg gui)" output="screen"/>

  <!-- Start ROS control -->
  <node pkg="controller_manager" type="spawner.py" name="controller_spawner" args="joint_state_controller diff_drive_controller steering_controller"/>

  <!-- Start RViz -->
  <node pkg="rviz" type="rviz" name="rviz" args="-d $(find rover_description)/rviz/rover.rviz" if="$(arg gui)"/>
</launch>
